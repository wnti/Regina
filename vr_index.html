<!DOCTYPE html>
<html lang="">
<head>
    <meta charset="utf-8">
    <title>Hello, World! - A-Frame</title>
    <meta name="description" content="Hello, World! - A-Frame">
    <script src="https://aframe.io/releases/1.1.0/aframe.min.js"></script>
    <script src="https://unpkg.com/aframe-animation-component@^3.2.x/dist/aframe-animation-component.min.js"></script>
    <script src="https://unpkg.com/aframe-event-set-component@5.0.0/dist/aframe-event-set-component.min.js"></script>
    <script>
        AFRAME.registerComponent('hide-on-click', {
            dependencies: ['raycaster'],
            schema: {
                target: {type: 'selector'}
            },
            init: function () {
                var data = this.data;
                var el = this.el;
                el.addEventListener('click', function () {
                    el.setAttribute('visible', false);
                    data.target.setAttribute('visible', true);
                });
            }
        });
    </script>
    <script>
        AFRAME.registerComponent('change-color-on-hover', {
            schema: {
                color: {default: 'red'}
            },
            init: function () {
                var data = this.data;
                var el = this.el;  // <a-box>
                var defaultColor = el.getAttribute('material').color;
                el.addEventListener('mouseenter', function () {
                    el.setAttribute('color', data.color);
                });
                el.addEventListener('mouseleave', function () {
                    el.setAttribute('color', defaultColor);
                });
            }
        });
    </script>
</head>

<body>
<a-scene>
    <a-assets>
        <!--a-asset-item id="bench" src="./models/bench.glb"></a-asset-item-->
        <a-asset-item id="bubble" src="./models/speech_bubble/scene.gltf"></a-asset-item>
        <a-asset-item id="male" src="./models/alexey/scene.gltf"></a-asset-item>
        <img id="wood" src="./images/purty_wood.png"></img>
    </a-assets>

    <a-entity gltf-model="#male" position="0 0 -3.5" scale="3 3 3"></a-entity>
    <a-entity gltf-model="./models/speech_bubble/scene.gltf" position="0.95907 5.96954 -4.39464"
              scale="0.32 0.00001 0.2" rotation="-90 90 90"></a-entity>
    <script>
        var boxEl = document.querySelector('a-box');
        boxEl.addEventListener('mouseenter', function () {
            boxEl.setAttribute('scale', {x: 2, y: 2, z: 2});
        });
    </script>

    <a-box position="1 0.8 -1.75" rotation="0 25 0" depth="0.1" color="#505050"></a-box>
    <!--a-sphere position="0 1.25 -5" radius="1" color="#2F2D2E"></a-sphere-->
    <!--a-ring position="-0.75 1.5 -5" radius="0.07" color="black"></a-ring-->
    <!--a-ring position="0.75 1.5 -5" radius="0.07" color="black"></a-ring-->
    <!--a-cylinder position="1 0.75 -3" radius="0.5" height="1.5" color="#FFC65D"></a-cylinder-->
    <a-box position="0 0 -2" rotation="0 5 0" width="8" height="0.2" depth="1" src="#wood">
        <a-sphere color="#303030" radius="0.16" position="-0.2 0.5 0" material="" geometry=""></a-sphere>
        <a-cylinder position="-0.2 0.3 0" height="0.16" color="#303030" material=""
                    geometry="radius: 0.16; height: 0.4"></a-cylinder>
    </a-box>
    <a-box position="1 0.2 -1.75" rotation="0 5 0" width="0.35" height="0.1" depth="0.2" color="#707070"></a-box>
    <a-cylinder position="1 0.3 -1.75" radius="0.1" height="0.2" color="#707070"></a-cylinder>
    <a-sky src="./images/sky.jpg"></a-sky>
    <a-entity camera="" position="0.2970723391149501 1.6 -0.1613081811108224" wasd-controls=""
              rotation="-7.608669060187546 4.010704565915211 0" look-controls="" aframe-injected=""
              data-aframe-inspector-original-camera="" raycaster="" cursor=""></a-entity>

    <a-camera>
        <a-entity cursor="fuse: true; fuseTimeout: 500"
                  position="0 0 -1"
                  geometry="primitive: ring; radiusInner: 0.02; radiusOuter: 0.03"
                  material="color: black; shader: flat"
                  raycaster="far:20; interval: 1000; objects: .clickable"></a-entity>
    </a-camera>

    <script>
        var boxEl = document.querySelector('a-box');
        boxEl.addEventListener('mouseenter', function () {
            boxEl.setAttribute('scale', {x: 2, y: 2, z: 2});
        });
    </script>
</a-scene>
</body>
</html>
